/auth/register:
  post:
    tags: [Auth]
    summary: 회원가입
    description: >
      회원을 생성합니다. `username`을 보내도 내부에서 `name`으로 매핑되어 처리됩니다.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "./openapi.yaml#/components/schemas/RegisterRequest"
          examples:
            default:
              value: { id: "soccer123", name: "정혜원", password: "secret12" }
            allowUsernameAlias:
              value: { id: "soccer123", username: "정혜원", password: "secret12" }
    responses:
      "201":
        description: Created
        content:
          application/json:
            schema:
              allOf:
                - $ref: "./openapi.yaml#/components/schemas/BaseResponse"
                - type: object
                  properties:
                    data:
                      nullable: true
                      example: null
            examples:
              created:
                value: { status: 201, message: "회원가입 성공", data: null }
      "400": { $ref: "./openapi.yaml#/components/responses/BadRequest" }
      "409": { $ref: "./openapi.yaml#/components/responses/Conflict" }
      "500": { $ref: "./openapi.yaml#/components/responses/ServerError" }

/auth/login:
  post:
    tags: [Auth]
    summary: 로그인
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "./openapi.yaml#/components/schemas/LoginRequest"
          examples:
            default:
              value: { id: "soccer123", password: "secret12" }
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              allOf:
                - $ref: "./openapi.yaml#/components/schemas/BaseResponse"
                - type: object
                  properties:
                    data:
                      $ref: "./openapi.yaml#/components/schemas/LoginData"
            examples:
              ok:
                value:
                  status: 200
                  message: "로그인 성공"
                  data:
                    accessToken: "eyJhbGciOi..."
                    refreshToken: "eyJhbGciOi..."
                    user:
                      id: "66c7e2d2f3a4f2bb1e8e1b11"
                      name: "정혜원"
                      role: "member"
      "400": { $ref: "./openapi.yaml#/components/responses/BadRequest" }
      "401": { $ref: "./openapi.yaml#/components/responses/Unauthorized" }
      "500": { $ref: "./openapi.yaml#/components/responses/ServerError" }

/auth/refresh:
  post:
    tags: [Auth]
    summary: 토큰 재발급
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "./openapi.yaml#/components/schemas/RefreshRequest"
          examples:
            default:
              value: { refreshToken: "eyJhbGciOi..." }
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              allOf:
                - $ref: "./openapi.yaml#/components/schemas/BaseResponse"
                - type: object
                  properties:
                    data:
                      $ref: "./openapi.yaml#/components/schemas/TokensData"
            examples:
              ok:
                value:
                  status: 200
                  message: "토큰 재발급 성공"
                  data:
                    accessToken: "new-access-token"
                    refreshToken: "new-refresh-token"
      "400": { $ref: "./openapi.yaml#/components/responses/BadRequest" }
      "401": { $ref: "./openapi.yaml#/components/responses/Unauthorized" }
      "500": { $ref: "./openapi.yaml#/components/responses/ServerError" }
